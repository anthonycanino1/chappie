#!/bin/bash

# expected inputs:
# ./chappie -b <benchmark>

export CHAPPIE_CONFIG=NOP.xml
cmd=$(python3 ./parse_config.py -config dacapo_config.json -experiment NOP.xml 2>&1)
$cmd

export CHAPPIE_CONFIG=SAMPLE.xml
cmd=$(python3 ./parse_config.py -config dacapo_config.json -experiment SAMPLE.xml 2>&1)
$cmd

reference=$(python3 ./parse_config.py -config dacapo_config.json -experiment SAMPLE.xml 2>&1)
experiment=$(python3 ./parse_config.py -config dacapo_config.json -experiment SAMPLE.xml 2>&1)
benchmark=$(python3 ./parse_config.py -config dacapo_config.json -experiment SAMPLE.xml 2>&1)

python3 ./analysis/nop_processing.py -path reference
python3 ./analysis/processing.py -path experiment
python3 ./analysis/summarization.py -path benchmark
